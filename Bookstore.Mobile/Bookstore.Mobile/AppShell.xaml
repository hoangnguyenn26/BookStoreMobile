<?xml version="1.0" encoding="UTF-8" ?>
<Shell xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
       xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
       xmlns:local="clr-namespace:Bookstore.Mobile"
       xmlns:views="clr-namespace:Bookstore.Mobile.Views"
       x:Class="Bookstore.Mobile.AppShell"
       Shell.FlyoutBehavior="Flyout"
       xmlns:vm="clr-namespace:Bookstore.Mobile.ViewModels"
       x:DataType="vm:AppShellViewModel">

    <Shell.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Resources/Styles/Colors.xaml" />
                <ResourceDictionary Source="Resources/Styles/Styles.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Shell.Resources>

    <Shell.FlyoutHeader>
        <VerticalStackLayout Padding="10" BackgroundColor="{AppThemeBinding Light={StaticResource PrimaryLight}, Dark={StaticResource PrimaryDark}}">
            <Label Text="Bookstore App" TextColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource White}}" FontSize="Large" FontAttributes="Bold" HorizontalOptions="Center" />
        </VerticalStackLayout>
    </Shell.FlyoutHeader>

    <FlyoutItem Title="Home" Icon="home_FILL0_wght400_GRAD0_opsz24.png">
        <ShellContent Title="Home"
                      ContentTemplate="{DataTemplate views:HomePage}"
                      Route="HomePage"/>
    </FlyoutItem>

    <FlyoutItem Title="Categories" Icon="category_FILL0_wght400_GRAD0_opsz24.png">
        <ShellContent Title="Categories"
                      ContentTemplate="{DataTemplate views:CategoriesPage}"
                      Route="CategoriesPage"/>
    </FlyoutItem>

    <!--<FlyoutItem Title="My Wishlist" Icon="favorite_FILL0_wght400_GRAD0_opsz24.png">
        <ShellContent Title="Wishlist"
                       ContentTemplate="{DataTemplate views:WishlistPage}"
                       Route="WishlistPage" />--><!--
    </FlyoutItem>-->

    <FlyoutItem Title="My Cart" Icon="shopping_cart_FILL0_wght400_GRAD0_opsz24.png">
        <ShellContent Title="Cart"
                      ContentTemplate="{DataTemplate views:CartPage}"
                      Route="CartPage"/>
    </FlyoutItem>

    <!--<MenuFlyoutItem IsVisible="{Binding IsAdminOrStaff}" />-->

    <FlyoutItem Title="Store Management" Icon="store.png" IsVisible="{Binding IsAdminOrStaff}">
        <ShellContent Title="Dashboard" ContentTemplate="{DataTemplate views:AdminDashboardPage}" Route="AdminDashboardPage" />
        <ShellContent Title="Orders" ContentTemplate="{DataTemplate views:AdminOrderListPage}" Route="AdminOrderListPage" />
        <ShellContent Title="Inventory" ContentTemplate="{DataTemplate views:StockReceiptListPage}" Route="StockReceiptListPage" />
        <ShellContent Title="Products" ContentTemplate="{DataTemplate views:AdminProductHomePage}" Route="AdminProductHomePage"/>
    </FlyoutItem>

    <FlyoutItem Title="System Admin" Icon="admin_panel.png" IsVisible="{Binding IsAdmin}">
        <ShellContent Title="Users" ContentTemplate="{DataTemplate views:AdminUserListPage}" Route="AdminUserListPage" />
        <ShellContent Title="Promotions" ContentTemplate="{DataTemplate views:AdminPromotionListPage}" Route="AdminPromotionListPage" />
        <ShellContent Title="Reports" ContentTemplate="{DataTemplate views:AdminReportsPage}" Route="AdminReportsPage" />
    </FlyoutItem>

    <FlyoutItem Title="My Account" Icon="account_circle.png">
        <ShellContent Title="Profile" ContentTemplate="{DataTemplate views:ProfilePage}" Route="ProfilePage" />
        <ShellContent Title="Addresses" ContentTemplate="{DataTemplate views:AddressListPage}" Route="AddressListPage" />
        <ShellContent Title="Order History" ContentTemplate="{DataTemplate views:OrderHistoryPage}" Route="OrderHistoryPage" />
    </FlyoutItem>

</Shell>